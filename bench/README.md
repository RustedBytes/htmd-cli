# Benchmark

An HTML-to-Markdown benchmark for htmd-cli, [Turndown.js](https://github.com/mixmark-io/turndown) and [Pandoc](https://github.com/jgm/pandoc).

### What does it do?

- Fetch 200 page links from [Wikipedia - Rust](<https://en.wikipedia.org/wiki/Rust_(programming_language)>)
- Fetch all 200 pages and save them as HTML files
- Bench using [hyperfine](https://github.com/sharkdp/hyperfine) and following command:
  ```
  hyperfine --warmup 3 --runs 5 \
  'cargo run --release -- ./bench/bench-pages -o ./bench/bench-out/htmd' \
  'bun bench/turndownCli.ts ./bench/bench-pages' \
  'bun bench/pandocBatchCli.ts ./bench/bench-pages'
  ```

# Environment

System: linux x64 #24~22.04.1-Ubuntu SMP Wed Jun 12 19:55:26 UTC 2024

CPUs: AMD EPYC 7763 64-Core Processor x 4

Memory: 15.6 GB

# Versions

Bun: 1.1.18

Hyperfine: 1.18.0

htmd-cli: 0.3.4

Turndown.js: 7.2.0

Pandoc: 3.2

# Inputs

File count: 200

Total size: 62.40 MB

# Results

```
Benchmark 1: cargo run --release -- ./bench/bench-pages -o ./bench/bench-out/htmd
  Time (mean ± σ):     928.6 ms ±   6.3 ms    [User: 3178.0 ms, System: 203.6 ms]
  Range (min … max):   922.0 ms … 938.9 ms    5 runs
 
Benchmark 2: bun bench/turndownCli.ts ./bench/bench-pages
  Time (mean ± σ):     11.412 s ±  0.111 s    [User: 13.300 s, System: 0.758 s]
  Range (min … max):   11.303 s … 11.580 s    5 runs
 
Benchmark 3: bun bench/pandocBatchCli.ts ./bench/bench-pages
  Time (mean ± σ):     42.084 s ±  0.100 s    [User: 147.455 s, System: 17.327 s]
  Range (min … max):   41.927 s … 42.204 s    5 runs
 
Summary
  cargo run --release -- ./bench/bench-pages -o ./bench/bench-out/htmd ran
   12.29 ± 0.15 times faster than bun bench/turndownCli.ts ./bench/bench-pages
   45.32 ± 0.33 times faster than bun bench/pandocBatchCli.ts ./bench/bench-pages

```

*Updated at Fri, 12 Jul 2024 06:12:44 GMT*

*Generated by [bench.ts](bench.ts)*
